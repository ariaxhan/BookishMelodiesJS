{"ast":null,"code":"import React,{useState,useEffect}from'react';import SpotifyWebApi from\"spotify-web-api-js\";// Spotify Authentication Constants and Functions\nexport const authEndpoint=\"https://accounts.spotify.com/authorize\";const redirectUri=\"http://localhost:3001/\";const clientId=\"01c9f82ca3e348e2adc1d98eded52db1\";const scopes=[\"user-read-currently-playing\",\"user-read-recently-played\",\"user-read-playback-state\",\"user-top-read\",\"user-modify-playback-state\"];export const getTokenFromUrl=()=>{return window.location.hash.substring(1).split(\"&\").reduce((initial,item)=>{let parts=item.split(\"=\");initial[parts[0]]=decodeURIComponent(parts[1]);return initial;},{});};export const loginUrl=\"\".concat(authEndpoint,\"?client_id=\").concat(clientId,\"&redirect_uri=\").concat(redirectUri,\"&scope=\").concat(scopes.join(\"%20\"),\"&response_type=token&show_dialog=true\");// Spotify Authentication Component\nconst spotify=new SpotifyWebApi();function Authenticate(){const[token,setToken]=useState();useEffect(()=>{const hash=getTokenFromUrl();window.location.hash=\"\";const _token=hash.access_token;if(_token){setToken(_token);spotify.setAccessToken(_token);console.log(\"Token set:\",_token);// Logging the actual token received\n}},[]);// Return something or null if nothing is to be rendered\nreturn null;// or your JSX here\n}export default Authenticate;","map":{"version":3,"names":["React","useState","useEffect","SpotifyWebApi","authEndpoint","redirectUri","clientId","scopes","getTokenFromUrl","window","location","hash","substring","split","reduce","initial","item","parts","decodeURIComponent","loginUrl","concat","join","spotify","Authenticate","token","setToken","_token","access_token","setAccessToken","console","log"],"sources":["/Users/ariahan/Documents/GitHub/BookishMelodiesJS/client/src/components/Authenticate.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport SpotifyWebApi from \"spotify-web-api-js\";\n\n// Spotify Authentication Constants and Functions\nexport const authEndpoint = \"https://accounts.spotify.com/authorize\";\nconst redirectUri = \"http://localhost:3001/\";\nconst clientId = \"01c9f82ca3e348e2adc1d98eded52db1\";\n\nconst scopes = [\n  \"user-read-currently-playing\",\n  \"user-read-recently-played\",\n  \"user-read-playback-state\",\n  \"user-top-read\",\n  \"user-modify-playback-state\",\n];\n\nexport const getTokenFromUrl = () => {\n  return window.location.hash\n    .substring(1)\n    .split(\"&\")\n    .reduce((initial, item) => {\n      let parts = item.split(\"=\");\n      initial[parts[0]] = decodeURIComponent(parts[1]);\n      return initial;\n    }, {});\n};\n\nexport const loginUrl = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\n  \"%20\"\n)}&response_type=token&show_dialog=true`;\n\n// Spotify Authentication Component\nconst spotify = new SpotifyWebApi();\n\nfunction Authenticate() {\n    const [token, setToken] = useState();\n\n    useEffect(() => {\n        const hash = getTokenFromUrl();\n        window.location.hash = \"\";\n        const _token = hash.access_token;\n\n        if (_token) {\n            setToken(_token);\n            spotify.setAccessToken(_token);\n            console.log(\"Token set:\", _token); // Logging the actual token received\n        }\n    }, []);\n\n    // Return something or null if nothing is to be rendered\n    return null; // or your JSX here\n}\n\nexport default Authenticate;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,aAAa,KAAM,oBAAoB,CAE9C;AACA,MAAO,MAAM,CAAAC,YAAY,CAAG,wCAAwC,CACpE,KAAM,CAAAC,WAAW,CAAG,wBAAwB,CAC5C,KAAM,CAAAC,QAAQ,CAAG,kCAAkC,CAEnD,KAAM,CAAAC,MAAM,CAAG,CACb,6BAA6B,CAC7B,2BAA2B,CAC3B,0BAA0B,CAC1B,eAAe,CACf,4BAA4B,CAC7B,CAED,MAAO,MAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CACnC,MAAO,CAAAC,MAAM,CAACC,QAAQ,CAACC,IAAI,CACxBC,SAAS,CAAC,CAAC,CAAC,CACZC,KAAK,CAAC,GAAG,CAAC,CACVC,MAAM,CAAC,CAACC,OAAO,CAAEC,IAAI,GAAK,CACzB,GAAI,CAAAC,KAAK,CAAGD,IAAI,CAACH,KAAK,CAAC,GAAG,CAAC,CAC3BE,OAAO,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAGC,kBAAkB,CAACD,KAAK,CAAC,CAAC,CAAC,CAAC,CAChD,MAAO,CAAAF,OAAO,CAChB,CAAC,CAAE,CAAC,CAAC,CAAC,CACV,CAAC,CAED,MAAO,MAAM,CAAAI,QAAQ,IAAAC,MAAA,CAAMhB,YAAY,gBAAAgB,MAAA,CAAcd,QAAQ,mBAAAc,MAAA,CAAiBf,WAAW,YAAAe,MAAA,CAAUb,MAAM,CAACc,IAAI,CAC5G,KACF,CAAC,yCAAuC,CAExC;AACA,KAAM,CAAAC,OAAO,CAAG,GAAI,CAAAnB,aAAa,CAAC,CAAC,CAEnC,QAAS,CAAAoB,YAAYA,CAAA,CAAG,CACpB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAAC,CAAC,CAEpCC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAS,IAAI,CAAGH,eAAe,CAAC,CAAC,CAC9BC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,EAAE,CACzB,KAAM,CAAAe,MAAM,CAAGf,IAAI,CAACgB,YAAY,CAEhC,GAAID,MAAM,CAAE,CACRD,QAAQ,CAACC,MAAM,CAAC,CAChBJ,OAAO,CAACM,cAAc,CAACF,MAAM,CAAC,CAC9BG,OAAO,CAACC,GAAG,CAAC,YAAY,CAAEJ,MAAM,CAAC,CAAE;AACvC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,MAAO,KAAI,CAAE;AACjB,CAEA,cAAe,CAAAH,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}